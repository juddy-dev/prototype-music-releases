(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2560],{29515:function(t,e,n){"use strict";n.d(e,{f:function(){return h}});var r=n(5853),i=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],s=function(){function t(){this.state=Int32Array.from(o),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(t){if(this.finished)throw Error("Attempted to update an already finished hash.");var e=0,n=t.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>9007199254740991)throw Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[e++],n--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var t=8*this.bytesHashed,e=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(e.setUint8(this.bufferLength++,128),n%64>=56){for(var r=this.bufferLength;r<64;r++)e.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<56;r++)e.setUint8(r,0);e.setUint32(56,Math.floor(t/4294967296),!0),e.setUint32(60,t),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(32),r=0;r<8;r++)i[4*r]=this.state[r]>>>24&255,i[4*r+1]=this.state[r]>>>16&255,i[4*r+2]=this.state[r]>>>8&255,i[4*r+3]=this.state[r]>>>0&255;return i},t.prototype.hashBuffer=function(){for(var t=this.buffer,e=this.state,n=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],c=e[6],h=e[7],l=0;l<64;l++){if(l<16)this.temp[l]=(255&t[4*l])<<24|(255&t[4*l+1])<<16|(255&t[4*l+2])<<8|255&t[4*l+3];else{var f=this.temp[l-2],d=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,g=((f=this.temp[l-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[l]=(d+this.temp[l-7]|0)+(g+this.temp[l-16]|0)}var p=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(h+(i[l]+this.temp[l]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&o^r&o)|0;h=c,c=u,u=a,a=s+p|0,s=o,o=r,r=n,n=p+y|0}e[0]+=n,e[1]+=r,e[2]+=o,e[3]+=s,e[4]+=a,e[5]+=u,e[6]+=c,e[7]+=h},t}(),a=n(82957).lW,u=void 0!==a&&a.from?function(t){return a.from(t,"utf8")}:t=>new TextEncoder().encode(t);function c(t){return t instanceof Uint8Array?t:"string"==typeof t?u(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var h=function(){function t(t){this.secret=t,this.hash=new s,this.reset()}return t.prototype.update=function(t){if(("string"==typeof t?0!==t.length:0!==t.byteLength)&&!this.error)try{this.hash.update(c(t))}catch(t){this.error=t}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return(0,r.mG)(this,void 0,void 0,function(){return(0,r.Jh)(this,function(t){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new s,this.secret){this.outer=new s;var t=function(t){var e=c(t);if(e.byteLength>64){var n=new s;n.update(e),e=n.digest()}var r=new Uint8Array(64);return r.set(e),r}(this.secret),e=new Uint8Array(64);e.set(t);for(var n=0;n<64;n++)t[n]^=54,e[n]^=92;this.hash.update(t),this.outer.update(e);for(var n=0;n<t.byteLength;n++)t[n]=0}},t}()},73663:function(t,e,n){"use strict";let r={},i={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();1===e.length&&(e=`0${e}`),r[t]=e,i[e]=t}},59196:function(t,e){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return(n+r)*3/4-r},e.toByteArray=function(t){var e,n,o=u(t),s=o[0],a=o[1],c=new i((s+a)*3/4-a),h=0,l=a>0?s-4:s;for(n=0;n<l;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=255&e;return 2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[h++]=255&e),1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[h++]=e>>8&255,c[h++]=255&e),c},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(function(t,e,r){for(var i,o=[],s=e;s<r;s+=3)o.push(n[(i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(t,s,s+16383>a?a:s+16383));return 1===i?o.push(n[(e=t[r-1])>>2]+n[e<<4&63]+"=="):2===i&&o.push(n[(e=(t[r-2]<<8)+t[r-1])>>10]+n[e>>4&63]+n[e<<2&63]+"="),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},82957:function(t,e,n){"use strict";var r=n(59196),i=n(68848),o=n(96065);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!u.isEncoding(n))throw TypeError('"encoding" must be a valid string encoding');var r=0|g(e,n),i=(t=a(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n,r=0|d(e.length);return 0===(t=a(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw TypeError('"size" argument must be a number');if(t<0)throw RangeError('"size" argument must not be negative')}function l(t,e){if(h(e),t=a(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=s())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return k(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return R(t).length;default:if(r)return k(t).length;e=(""+e).toLowerCase(),r=!0}}function p(t,e,n){var i,o,s=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,n){var r,i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o="",s=e;s<n;++s)o+=(r=t[s])<16?"0"+r.toString(16):r.toString(16);return o}(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}(this,e,n);case"latin1":case"binary":return function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}(this,e,n);case"base64":return i=e,o=n,0===i&&o===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,e,n);default:if(s)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return -1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),isNaN(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return -1;n=t.length-1}else if(n<0){if(!i)return -1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if("number"==typeof e)return(e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return -1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*s}else -1!==h&&(o-=o-h),h=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var l=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){l=!1;break}if(l)return o}return -1}function I(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,c=t[i],h=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(h=c);break;case 2:(192&(o=t[i+1]))==128&&(u=(31&c)<<6|63&o)>127&&(h=u);break;case 3:o=t[i+1],s=t[i+2],(192&o)==128&&(192&s)==128&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,l=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=l}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function v(t,e,n){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>n)throw RangeError("Trying to access beyond buffer length")}function A(t,e,n,r,i,o){if(!u.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw RangeError('"value" argument is out of bounds');if(n+r>t.length)throw RangeError("Index out of range")}function S(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}function E(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>(r?i:3-i)*8&255}function C(t,e,n,r,i,o){if(n+r>t.length||n<0)throw RangeError("Index out of range")}function b(t,e,n,r,o){return o||C(t,e,n,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,n,r,23,4),n+4}function P(t,e,n,r,o){return o||C(t,e,n,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,n,r,52,8),n+8}e.lW=u,e.h2=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return(h(t),t<=0)?a(null,t):void 0!==e?"string"==typeof n?a(null,t).fill(e,n):a(null,t).fill(e):a(null,t)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!!(null!=t&&t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);if(void 0===e)for(n=0,e=0;n<t.length;++n)e+=t[n].length;var n,r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0==arguments.length?I(this,0,t):p.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.h2;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return -1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,s=n-e,a=Math.min(o,s),c=this.slice(r,i),h=t.slice(e,n),l=0;l<a;++l)if(c[l]!==h[l]){o=c[l],s=h[l];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return -1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,u,c,h,l,f,d,g,p,y=this.length-e;if((void 0===n||n>y)&&(n=y),t.length>0&&(n<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var m=!1;;)switch(r){case"hex":return function(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))break;t[n+s]=a}return s}(this,t,e,n);case"utf8":case"utf-8":return u=e,c=n,O(k(t,this.length-u),this,u,c);case"ascii":return h=e,l=n,O(T(t),this,h,l);case"latin1":case"binary":return i=this,o=t,s=e,a=n,O(T(o),i,s,a);case"base64":return f=e,d=n,O(R(t),this,f,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g=e,p=n,O(function(t,e){for(var n,r,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(t,this.length-g),this,g,p);default:if(m)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),m=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||v(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||v(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||v(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||v(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||v(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||v(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||v(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||v(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||v(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return(e||v(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},u.prototype.readInt16LE=function(t,e){e||v(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||v(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||v(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||v(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||v(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||v(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||v(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||v(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;A(this,t,e,n,i,0)}var o=1,s=0;for(this[e]=255&t;++s<n&&(o*=256);)this[e+s]=t/o&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;A(this,t,e,n,i,0)}var o=n-1,s=1;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=t/s&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):E(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):E(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);A(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);A(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):E(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):E(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return b(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return b(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("sourceStart out of bounds");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i,o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=u.isBuffer(t)?t:k(new u(t,r).toString()),a=s.length;for(i=0;i<n-e;++i)this[i+e]=s[i%a]}return this};var _=/[^+\/0-9A-Za-z-_]/g;function k(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319||s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function T(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function R(t){return r.toByteArray(function(t){var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(_,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function O(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length)&&!(i>=t.length);++i)e[i+n]=t[i];return i}},68848:function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,h=-7,l=n?i-1:0,f=n?-1:1,d=t[e+l];for(l+=f,o=d&(1<<-h)-1,d>>=-h,h+=a;h>0;o=256*o+t[e+l],l+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+l],l+=f,h-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,h=(1<<c)-1,l=h>>1,f=23===i?5960464477539062e-23:0,d=r?0:o-1,g=r?1:-1,p=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+l>=1?e+=f/u:e+=f*Math.pow(2,1-l),e*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=g,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=g,s/=256,c-=8);t[n+d-g]|=128*p}},96065:function(t){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},99376:function(t,e,n){"use strict";var r=n(35475);n.o(r,"usePathname")&&n.d(e,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(e,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(e,{useSearchParams:function(){return r.useSearchParams}})},57826:function(t,e,n){"use strict";n.d(e,{l:function(){return i}});var r=n(75638);class i extends r._{constructor(t){super(t),this.constructor=i,Object.setPrototypeOf(this,i.prototype)}}},99075:function(t,e,n){"use strict";n.d(e,{EU:function(){return o},Jg:function(){return i},MA:function(){return a},VL:function(){return h},hj:function(){return f},mP:function(){return s},sX:function(){return d},vC:function(){return u},wW:function(){return l},x9:function(){return c}});var r=n(57826);let i="UserUnAuthenticatedException",o="UserAlreadyAuthenticatedException",s="DeviceMetadataNotFoundException",a="AutoSignInException",u=new r.l({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});new r.l({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."});let c=new r.l({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),h=new r.l({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),l="OAuthSignOutException",f="TokenRefreshException",d="UnexpectedSignInInterruptionException"},45473:function(t,e,n){"use strict";n.d(e,{R:function(){return o}});var r=n(37701),i=n(57826);function o(t){if(!t||"Error"===t.name||t instanceof TypeError)throw new i.l({name:r.Z.Unknown,message:"An unknown error has occurred.",underlyingError:t})}},58249:function(t,e,n){"use strict";n.d(e,{t:function(){return r}});let r="cognito-idp"},36168:function(t,e,n){"use strict";n.d(e,{n:function(){return a}});var r=n(12221),i=n(48880),o=n(37487),s=n(52954);let a={service:n(58249).t,retryDecider:(0,r.j)(i.f),computeDelay:o.k,userAgentValue:(0,s.Zm)(),cache:"no-store"}},66388:function(t,e,n){"use strict";n.d(e,{N:function(){return u}});var r=n(91742),i=n(5048),o=n(7107),s=n(83468),a=n(36168);let u=t=>(0,r.z)(s.x,(0,i.u)("InitiateAuth"),(0,o.o)(),{...a.n,...t})},83468:function(t,e,n){"use strict";n.d(e,{x:function(){return o}});var r=n(48146),i=n(96526);let o=(0,r.V)(i.y,[()=>(t,e)=>async function(e){return e.headers["cache-control"]="no-store",t(e)}])},7107:function(t,e,n){"use strict";n.d(e,{o:function(){return s}});var r=n(48880),i=n(45473),o=n(57826);let s=()=>async t=>{if(t.statusCode>=300){let e=await (0,r.f)(t);throw(0,i.R)(e),new o.l({name:e.name,message:e.message})}return(0,r.e)(t)}},5048:function(t,e,n){"use strict";n.d(e,{u:function(){return r}});let r=t=>(e,n)=>o(n,i(t),JSON.stringify(e)),i=t=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${t}`}),o=({url:t},e,n)=>({headers:e,url:t,body:n,method:"POST"})},99388:function(t,e,n){"use strict";n.d(e,{N:function(){return o},y:function(){return i}});var r=n(57826);function i(t){let e=t?.split("_")[0];if(!t||0>t.indexOf("_")||!e||"string"!=typeof e)throw new r.l({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return e}function o(t){if(!t||!t.includes(":"))throw new r.l({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return t.split(":")[0]}},23318:function(t,e,n){"use strict";n.d(e,{t:function(){return a}});var r=n(79722),i=n(87433),o=n(34168);let s=async t=>{let e=t.getConfig().Auth?.Cognito;(0,i.FG)(e);let n=await t.Auth.getTokens({forceRefresh:!1});(0,o.CA)(n);let{"cognito:username":r,sub:s}=n.idToken?.payload??{},a={username:r,userId:s},u=n?.signInDetails;return u&&(a.signInDetails=u),a},a=async()=>s(r.d)},31901:function(t,e,n){"use strict";n.d(e,{e:function(){return a}});var r=n(69514),i=n(51849),o=n(58249);let s=({region:t})=>({url:new r.a(`https://${o.t}.${t}.${(0,i.b)(t)}`)}),a=({endpointOverride:t})=>e=>t?{url:new r.a(t)}:s(e)},90445:function(t,e,n){"use strict";n.d(e,{sI:function(){return l},_X:function(){return d}});var r,i=n(87433),o=n(57826);let s={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var a=n(97808);(r||(r={})).InvalidAuthTokens="InvalidAuthTokens";let u={[r.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},c=(0,a.$)(u),h="CognitoIdentityServiceProvider";class l{getKeyValueStorage(){if(!this.keyValueStorage)throw new o.l({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(t){this.keyValueStorage=t}setAuthConfig(t){this.authConfig=t}async loadTokens(){try{let t=await this.getAuthKeys(),e=await this.getKeyValueStorage().getItem(t.accessToken);if(!e)throw new o.l({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});let n=(0,i.xp)(e),r=await this.getKeyValueStorage().getItem(t.idToken),s=r?(0,i.xp)(r):void 0,a=await this.getKeyValueStorage().getItem(t.refreshToken)??void 0,u=await this.getKeyValueStorage().getItem(t.clockDrift)??"0",c=Number.parseInt(u),h=await this.getKeyValueStorage().getItem(t.signInDetails),l={accessToken:n,idToken:s,refreshToken:a,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:c,username:await this.getLastAuthUser()};return h&&(l.signInDetails=JSON.parse(h)),l}catch(t){return null}}async storeTokens(t){c(void 0!==t,r.InvalidAuthTokens);let e=t.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),e);let n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,t.accessToken.toString()),t.idToken?await this.getKeyValueStorage().setItem(n.idToken,t.idToken.toString()):await this.getKeyValueStorage().removeItem(n.idToken),t.refreshToken?await this.getKeyValueStorage().setItem(n.refreshToken,t.refreshToken):await this.getKeyValueStorage().removeItem(n.refreshToken),t.deviceMetadata&&(t.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,t.deviceMetadata.deviceKey),t.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,t.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,t.deviceMetadata.randomPassword)),t.signInDetails?await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(t.signInDetails)):await this.getKeyValueStorage().removeItem(n.signInDetails),await this.getKeyValueStorage().setItem(n.clockDrift,`${t.clockDrift}`)}async clearTokens(){let t=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(t.accessToken),this.getKeyValueStorage().removeItem(t.idToken),this.getKeyValueStorage().removeItem(t.clockDrift),this.getKeyValueStorage().removeItem(t.refreshToken),this.getKeyValueStorage().removeItem(t.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(t.oauthMetadata)])}async getDeviceMetadata(t){let e=await this.getAuthKeys(t),n=await this.getKeyValueStorage().getItem(e.deviceKey),r=await this.getKeyValueStorage().getItem(e.deviceGroupKey),i=await this.getKeyValueStorage().getItem(e.randomPasswordKey);return i&&r&&n?{deviceKey:n,deviceGroupKey:r,randomPassword:i}:null}async clearDeviceMetadata(t){let e=await this.getAuthKeys(t);await Promise.all([this.getKeyValueStorage().removeItem(e.deviceKey),this.getKeyValueStorage().removeItem(e.deviceGroupKey),this.getKeyValueStorage().removeItem(e.randomPasswordKey)])}async getAuthKeys(t){(0,i.FG)(this.authConfig?.Cognito);let e=t??await this.getLastAuthUser();return f(h,`${this.authConfig.Cognito.userPoolClientId}.${e}`)}getLastAuthUserKey(){(0,i.FG)(this.authConfig?.Cognito);let t=this.authConfig.Cognito.userPoolClientId;return`${h}.${t}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(t){let{oauthMetadata:e}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(e,JSON.stringify(t))}async getOAuthMetadata(){let{oauthMetadata:t}=await this.getAuthKeys(),e=await this.getKeyValueStorage().getItem(t);return e&&JSON.parse(e)}}let f=(t,e)=>d(s)(`${t}`,e);function d(t){let e=Object.values({...t});return(t,n)=>e.reduce((e,r)=>({...e,[r]:`${t}.${n}.${r}`}),{})}},74567:function(t,e,n){"use strict";let r;n.d(e,{D:function(){return b},C:function(){return P}});var i,o=n(12876),s=n(87433),a=n(99388),u=n(34168),c=n(57826),h=n(66388),l=n(31901),f=n(6801);let d=(i=async({tokens:t,authConfig:e,username:n})=>{(0,s.FG)(e?.Cognito);let{userPoolId:r,userPoolClientId:i,userPoolEndpoint:o}=e.Cognito,d=(0,a.y)(r);(0,u.XD)(t);let g=t.refreshToken,p={REFRESH_TOKEN:g};t.deviceMetadata?.deviceKey&&(p.DEVICE_KEY=t.deviceMetadata.deviceKey);let y=(0,f.u)({username:n,userPoolId:r,userPoolClientId:i}),m=(0,h.N)({endpointResolver:(0,l.e)({endpointOverride:o})}),{AuthenticationResult:w}=await m({region:d},{ClientId:i,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:p,UserContextData:y}),I=(0,s.xp)(w?.AccessToken??""),v=w?.IdToken?(0,s.xp)(w.IdToken):void 0,{iat:A}=I.payload;if(!A)throw new c.l({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:I,idToken:v,clockDrift:1e3*A-new Date().getTime(),refreshToken:g,username:n}},async(...t)=>r||(r=new Promise((e,n)=>{i(...t).then(t=>{e(t)}).catch(t=>{n(t)}).finally(()=>{r=void 0})})));var g=n(90445),p=n(85871),y=n(99262);function m({expiresAt:t,clockDrift:e,tolerance:n=5e3}){return Date.now()+e+n>t}var w=n(37701),I=n(45473);let v=new(n(42251)).R(o.Fm),A=[],S=t=>{A.push(t)};class E{constructor(){this.waitForInflightOAuth=(0,y.j)()?async()=>await v.loadOAuthInFlight()?(this.inflightPromise||(this.inflightPromise=new Promise((t,e)=>{S(t)})),this.inflightPromise):void 0:async()=>{}}setAuthConfig(t){v.setAuthConfig(t.Cognito),this.authConfig=t}setTokenRefresher(t){this.tokenRefresher=t}setAuthTokenStore(t){this.tokenStore=t}getTokenStore(){if(!this.tokenStore)throw new c.l({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new c.l({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(t){let e;try{(0,s.FG)(this.authConfig?.Cognito)}catch(t){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,e=await this.getTokenStore().loadTokens();let n=await this.getTokenStore().getLastAuthUser();if(null===e)return null;let r=!!e?.idToken&&m({expiresAt:(e.idToken?.payload?.exp??0)*1e3,clockDrift:e.clockDrift??0}),i=m({expiresAt:(e.accessToken?.payload?.exp??0)*1e3,clockDrift:e.clockDrift??0});return(t?.forceRefresh||r||i)&&null===(e=await this.refreshTokens({tokens:e,username:n}))?null:{accessToken:e?.accessToken,idToken:e?.idToken,signInDetails:e?.signInDetails}}async refreshTokens({tokens:t,username:e}){try{let{signInDetails:n}=t,r=await this.getTokenRefresher()({tokens:t,authConfig:this.authConfig,username:e});return r.signInDetails=n,await this.setTokens({tokens:r}),p.Xb.dispatch("auth",{event:"tokenRefresh"},"Auth",p.SQ),r}catch(t){return this.handleErrors(t)}}handleErrors(t){if((0,I.R)(t),t.name!==w.Z.NetworkError&&this.clearTokens(),p.Xb.dispatch("auth",{event:"tokenRefresh_failure",data:{error:t}},"Auth",p.SQ),t.name.startsWith("NotAuthorizedException"))return null;throw t}async setTokens({tokens:t}){return this.getTokenStore().storeTokens(t)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(t){return this.getTokenStore().getDeviceMetadata(t)}clearDeviceMetadata(t){return this.getTokenStore().clearDeviceMetadata(t)}setOAuthMetadata(t){return this.getTokenStore().setOAuthMetadata(t)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}class C{constructor(){this.authTokenStore=new g.sI,this.authTokenStore.setKeyValueStorage(o.Fm),this.tokenOrchestrator=new E,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(d)}getTokens({forceRefresh:t}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:t})}setKeyValueStorage(t){this.authTokenStore.setKeyValueStorage(t)}setAuthConfig(t){this.authTokenStore.setAuthConfig(t),this.tokenOrchestrator.setAuthConfig(t)}}let b=new C,{tokenOrchestrator:P}=b},42251:function(t,e,n){"use strict";n.d(e,{R:function(){return u}});var r=n(87433),i=n(90445),o=n(34168);let s="amplify-signin-with-hostedUI",a="CognitoIdentityServiceProvider";class u{constructor(t){this.keyValueStorage=t}async clearOAuthInflightData(){(0,r.FG)(this.cognitoConfig);let t=c(a,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(t.inflightOAuth),this.keyValueStorage.removeItem(t.oauthPKCE),this.keyValueStorage.removeItem(t.oauthState)])}async clearOAuthData(){(0,r.FG)(this.cognitoConfig);let t=c(a,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(s),this.keyValueStorage.removeItem(t.oauthSignIn)}loadOAuthState(){(0,r.FG)(this.cognitoConfig);let t=c(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthState)}storeOAuthState(t){(0,r.FG)(this.cognitoConfig);let e=c(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(e.oauthState,t)}loadPKCE(){(0,r.FG)(this.cognitoConfig);let t=c(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthPKCE)}storePKCE(t){(0,r.FG)(this.cognitoConfig);let e=c(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(e.oauthPKCE,t)}setAuthConfig(t){this.cognitoConfig=t}async loadOAuthInFlight(){(0,r.FG)(this.cognitoConfig);let t=c(a,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(t.inflightOAuth)==="true"}async storeOAuthInFlight(t){(0,r.FG)(this.cognitoConfig);let e=c(a,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(e.inflightOAuth,`${t}`)}async loadOAuthSignIn(){(0,r.FG)(this.cognitoConfig);let t=c(a,this.cognitoConfig.userPoolClientId),e=await this.keyValueStorage.getItem(s),[n,i]=(await this.keyValueStorage.getItem(t.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===n||"true"===e,preferPrivateSession:"true"===i}}async storeOAuthSignIn(t,e=!1){(0,r.FG)(this.cognitoConfig);let n=c(a,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${t},${e}`)}}let c=(t,e)=>(0,i._X)(o.Bx)(t,e)},34168:function(t,e,n){"use strict";n.d(e,{Bx:function(){return l},CA:function(){return o},Cg:function(){return s},XD:function(){return c},tr:function(){return h}});var r=n(57826),i=n(99075);function o(t){if(!t||!t.accessToken)throw new r.l({name:i.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function s(t){if(!t||!t.idToken)throw new r.l({name:i.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}let a=new r.l({name:i.hj,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),u=new r.l({name:i.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function c(t){if(f(t)&&!t?.refreshToken)throw a;if(!(f(t)&&t?.refreshToken))throw u}function h(t){if(!t||!t.deviceKey||!t.deviceGroupKey||!t.randomPassword)throw new r.l({name:i.mP,message:"Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",recoverySuggestion:"Make sure to not clear storage after calling the signIn API."})}let l={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function f(t){return t?.accessToken||t?.idToken}},6801:function(t,e,n){"use strict";function r({username:t,userPoolId:e,userPoolClientId:n}){if("undefined"==typeof window)return;let r=window.AmazonCognitoAdvancedSecurityData;if(void 0===r)return;let i=r.getData(t,e,n);return i?{EncodedData:i}:{}}n.d(e,{u:function(){return r}})},85871:function(t,e,n){"use strict";n.d(e,{SQ:function(){return s},Xb:function(){return c}});var r=n(53110),i=n(79059),o=n(75638);let s="undefined"!=typeof Symbol?Symbol("amplify_default"):"@@amplify_default",a=new r.k("Hub");class u{constructor(t){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=t}_remove(t,e){let n=this.listeners.get(t);if(!n){a.warn(`No listeners for ${t}`);return}this.listeners.set(t,[...n.filter(({callback:t})=>t!==e)])}dispatch(t,e,n,r){"string"==typeof t&&this.protectedChannels.indexOf(t)>-1&&r!==s&&a.warn(`WARNING: ${t} is protected and dispatching on it can have unintended consequences`);let i={channel:t,payload:{...e},source:n,patternInfo:[]};try{this._toListeners(i)}catch(t){a.error(t)}}listen(t,e,n="noname"){if("function"!=typeof e)throw new o._({name:i.z2,message:"No callback supplied to Hub"});let r=this.listeners.get(t);return r||(r=[],this.listeners.set(t,r)),r.push({name:n,callback:e}),()=>{this._remove(t,e)}}_toListeners(t){let{channel:e,payload:n}=t,r=this.listeners.get(e);r&&r.forEach(r=>{a.debug(`Dispatching to ${e} with `,n);try{r.callback(t)}catch(t){a.error(t)}})}}let c=new u("__default__");new u("internal-hub")},53110:function(t,e,n){"use strict";n.d(e,{k:function(){return a}});var r,i,o=n(79059);(r=i||(i={})).DEBUG="DEBUG",r.ERROR="ERROR",r.INFO="INFO",r.WARN="WARN",r.VERBOSE="VERBOSE",r.NONE="NONE";let s={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class a{constructor(t,e=i.WARN){this.name=t,this.level=e,this._pluggables=[]}_padding(t){return t<10?"0"+t:""+t}_ts(){let t=new Date;return[this._padding(t.getMinutes()),this._padding(t.getSeconds())].join(":")+"."+t.getMilliseconds()}configure(t){return t&&(this._config=t),this._config}_log(t,...e){let n=this.level;a.LOG_LEVEL&&(n=a.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(n=window.LOG_LEVEL);let r=s[n];if(!(s[t]>=r))return;let o=console.log.bind(console);t===i.ERROR&&console.error&&(o=console.error.bind(console)),t===i.WARN&&console.warn&&(o=console.warn.bind(console)),a.BIND_ALL_LOG_LEVELS&&(t===i.INFO&&console.info&&(o=console.info.bind(console)),t===i.DEBUG&&console.debug&&(o=console.debug.bind(console)));let u=`[${t}] ${this._ts()} ${this.name}`,c="";if(1===e.length&&"string"==typeof e[0])o(c=`${u} - ${e[0]}`);else if(1===e.length)c=`${u} ${e[0]}`,o(u,e[0]);else if("string"==typeof e[0]){let t=e.slice(1);1===t.length&&(t=t[0]),c=`${u} - ${e[0]} ${t}`,o(`${u} - ${e[0]}`,t)}else c=`${u} ${e}`,o(u,e);for(let t of this._pluggables){let e={message:c,timestamp:Date.now()};t.pushLogs([e])}}log(...t){this._log(i.INFO,...t)}info(...t){this._log(i.INFO,...t)}warn(...t){this._log(i.WARN,...t)}error(...t){this._log(i.ERROR,...t)}debug(...t){this._log(i.DEBUG,...t)}verbose(...t){this._log(i.VERBOSE,...t)}addPluggable(t){t&&t.getCategoryName()===o.YG&&(this._pluggables.push(t),t.configure(this._config))}listPluggables(){return this._pluggables}}a.LOG_LEVEL=null,a.BIND_ALL_LOG_LEVELS=!1},63171:function(t,e,n){"use strict";let r;n.d(e,{Cj:function(){return m},QW:function(){return w}});var i=n(85230),o=n(40257);let s=()=>"undefined"!=typeof global,a=()=>"undefined"!=typeof window,u=()=>"undefined"!=typeof document,c=()=>void 0!==o,h=(t,e)=>!!Object.keys(t).find(t=>t.startsWith(e));var l=n(40257),f=n(40257),d=n(40257);let g=[{platform:i.gQ.Expo,detectionMethod:function(){return s()&&void 0!==global.expo}},{platform:i.gQ.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:i.gQ.NextJs,detectionMethod:function(){return a()&&window.next&&"object"==typeof window.next}},{platform:i.gQ.Nuxt,detectionMethod:function(){return a()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:i.gQ.Angular,detectionMethod:function(){let t=!!(u()&&document.querySelector("[ng-version]")),e=!!(a()&&void 0!==window.ng);return t||e}},{platform:i.gQ.React,detectionMethod:function(){let t=t=>t.startsWith("_react")||t.startsWith("__react");return u()&&Array.from(document.querySelectorAll("[id]")).some(e=>Object.keys(e).find(t))}},{platform:i.gQ.VueJs,detectionMethod:function(){return a()&&h(window,"__VUE")}},{platform:i.gQ.Svelte,detectionMethod:function(){return a()&&h(window,"__SVELTE")}},{platform:i.gQ.WebUnknown,detectionMethod:function(){return a()}},{platform:i.gQ.NextJsSSR,detectionMethod:function(){return s()&&(h(global,"__next")||h(global,"__NEXT"))}},{platform:i.gQ.NuxtSSR,detectionMethod:function(){return s()&&void 0!==global.__NUXT_PATHS__}},{platform:i.gQ.ReactSSR,detectionMethod:function(){return c()&&void 0!==l.env&&!!Object.keys(l.env).find(t=>t.includes("react"))}},{platform:i.gQ.VueJsSSR,detectionMethod:function(){return s()&&h(global,"__VUE")}},{platform:i.gQ.AngularSSR,detectionMethod:function(){return c()&&"object"==typeof d.env&&d.env.npm_lifecycle_script?.startsWith("ng ")||!1}},{platform:i.gQ.SvelteSSR,detectionMethod:function(){return c()&&void 0!==f.env&&!!Object.keys(f.env).find(t=>t.includes("svelte"))}}],p=[],y=!1,m=()=>{if(!r){if(r=g.find(t=>t.detectionMethod())?.platform||i.gQ.ServerSideUnknown,y)for(;p.length;)p.pop()?.();else p.forEach(t=>{t()});I(i.gQ.ServerSideUnknown,10),I(i.gQ.WebUnknown,10)}return r},w=t=>{y||p.push(t)};function I(t,e){r!==t||y||setTimeout(()=>{r=void 0,y=!0,setTimeout(m,1e3)},e)}},52954:function(t,e,n){"use strict";n.d(e,{Zm:function(){return f}});var r=n(85230);let i="6.13.1";var o=n(63171);let s={},a=(t,e)=>s[t]?.[e]?.additionalDetails,u="aws-amplify",c=t=>t.replace(/\+.*/,"");class h{constructor(){this.userAgent=`${u}/${c(i)}`}get framework(){return(0,o.Cj)()}get isReactNative(){return this.framework===r.gQ.ReactNative||this.framework===r.gQ.Expo}observeFrameworkChanges(t){(0,o.QW)(t)}}new h;let l=({category:t,action:e}={})=>{let n=[[u,c(i)]];if(t&&n.push([t,e]),n.push(["framework",(0,o.Cj)()]),t&&e){let r=a(t,e);r&&r.forEach(t=>{n.push(t)})}return n},f=t=>l(t).map(([t,e])=>t&&e?`${t}/${e}`:t).join(" ")},85230:function(t,e,n){"use strict";var r,i,o,s,a,u,c,h,l,f,d,g,p,y,m,w,I,v,A,S,E,C,b,P,_,k;n.d(e,{WD:function(){return i},g4:function(){return u},gQ:function(){return r}}),(m=r||(r={})).WebUnknown="0",m.React="1",m.NextJs="2",m.Angular="3",m.VueJs="4",m.Nuxt="5",m.Svelte="6",m.ServerSideUnknown="100",m.ReactSSR="101",m.NextJsSSR="102",m.AngularSSR="103",m.VueJsSSR="104",m.NuxtSSR="105",m.SvelteSSR="106",m.ReactNative="201",m.Expo="202",(w=i||(i={})).AI="ai",w.API="api",w.Auth="auth",w.Analytics="analytics",w.DataStore="datastore",w.Geo="geo",w.InAppMessaging="inappmessaging",w.Interactions="interactions",w.Predictions="predictions",w.PubSub="pubsub",w.PushNotification="pushnotification",w.Storage="storage",(I=o||(o={})).CreateConversation="1",I.GetConversation="2",I.ListConversations="3",I.DeleteConversation="4",I.SendMessage="5",I.ListMessages="6",I.OnMessage="7",I.Generation="8",I.UpdateConversation="9",(v=s||(s={})).Record="1",v.IdentifyUser="2",(A=a||(a={})).GraphQl="1",A.Get="2",A.Post="3",A.Put="4",A.Patch="5",A.Del="6",A.Head="7",(S=u||(u={})).SignUp="1",S.ConfirmSignUp="2",S.ResendSignUpCode="3",S.SignIn="4",S.FetchMFAPreference="6",S.UpdateMFAPreference="7",S.SetUpTOTP="10",S.VerifyTOTPSetup="11",S.ConfirmSignIn="12",S.DeleteUserAttributes="15",S.DeleteUser="16",S.UpdateUserAttributes="17",S.FetchUserAttributes="18",S.ConfirmUserAttribute="22",S.SignOut="26",S.UpdatePassword="27",S.ResetPassword="28",S.ConfirmResetPassword="29",S.FederatedSignIn="30",S.RememberDevice="32",S.ForgetDevice="33",S.FetchDevices="34",S.SendUserAttributeVerificationCode="35",S.SignInWithRedirect="36",S.StartWebAuthnRegistration="37",S.CompleteWebAuthnRegistration="38",S.ListWebAuthnCredentials="39",S.DeleteWebAuthnCredential="40",(E=c||(c={})).Subscribe="1",E.GraphQl="2",(C=h||(h={})).SearchByText="0",C.SearchByCoordinates="1",C.SearchForSuggestions="2",C.SearchByPlaceId="3",C.SaveGeofences="4",C.GetGeofence="5",C.ListGeofences="6",C.DeleteGeofences="7",(b=l||(l={})).SyncMessages="1",b.IdentifyUser="2",b.NotifyMessageInteraction="3",(f||(f={})).None="0",(P=d||(d={})).Convert="1",P.Identify="2",P.Interpret="3",(g||(g={})).Subscribe="1",(_=p||(p={})).InitializePushNotifications="1",_.IdentifyUser="2",(k=y||(y={})).UploadData="1",k.DownloadData="2",k.List="3",k.Copy="4",k.Remove="5",k.GetProperties="6",k.GetUrl="7",k.GetDataAccess="8",k.ListCallerAccessGrants="9"},51849:function(t,e,n){"use strict";n.d(e,{b:function(){return o}});let r={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},i={partitions:[r,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},o=t=>{let{partitions:e}=i;for(let{regions:n,outputs:r,regionRegex:i}of e){let e=new RegExp(i);if(n.includes(t)||e.test(t))return r.dnsSuffix}return r.outputs.dnsSuffix}},96526:function(t,e,n){"use strict";n.d(e,{y:function(){return f}});let r=3,i=(t,e)=>{let n,r;if(e?.aborted)return Promise.resolve();let i=new Promise(e=>{r=e,n=setTimeout(e,t)});return e?.addEventListener("abort",function t(i){clearTimeout(n),e?.removeEventListener("abort",t),r()}),i},o=(t,e)=>{"[object Object]"===Object.prototype.toString.call(t)&&(t.$metadata={...t.$metadata??{},attempts:e})};var s=n(48146),a=n(75638),u=n(37701);let c=t=>{let e;return()=>(e||(e=t()),e)},h=t=>!["HEAD","GET","DELETE"].includes(t.toUpperCase()),l=async({url:t,method:e,headers:n,body:r},{abortSignal:i,cache:o,withCrossDomainCredentials:s})=>{let l;try{l=await fetch(t,{method:e,headers:n,body:h(e)?r:void 0,signal:i,cache:o,credentials:s?"include":"same-origin"})}catch(t){if(t instanceof TypeError)throw new a._({name:u.Z.NetworkError,message:"A network error has occurred.",underlyingError:t});throw t}let f={};l.headers?.forEach((t,e)=>{f[e.toLowerCase()]=t});let d={statusCode:l.status,headers:f,body:null},g=Object.assign(l.body??{},{text:c(()=>l.text()),blob:c(()=>l.blob()),json:c(()=>l.json())});return{...d,body:g}},f=(0,s.V)(l,[({userAgentHeader:t="x-amz-user-agent",userAgentValue:e=""})=>n=>async function(r){if(0===e.trim().length)return await n(r);{let i=t.toLowerCase();return r.headers[i]=r.headers[i]?`${r.headers[i]} ${e}`:e,await n(r)}},({maxAttempts:t=r,retryDecider:e,computeDelay:n,abortSignal:s})=>{if(t<1)throw Error("maxAttempts must be greater than 0");return(r,a)=>async function(u){let c,h;let l=a.attemptsCount??0,f=()=>{if(h)return o(h,l),h;throw o(c,l),c};for(;!s?.aborted&&l<t;){try{h=await r(u),c=void 0}catch(t){c=t,h=void 0}l=(a.attemptsCount??0)>l?a.attemptsCount??0:l+1,a.attemptsCount=l;let{isCredentialsExpiredError:o,retryable:d}=await e(h,c,a);if(!d)return f();if(a.isCredentialsExpired=!!o,!s?.aborted&&l<t){let t=n(l);await i(t,s)}}if(!s?.aborted)return f();throw Error("Request aborted.")}}])},91742:function(t,e,n){"use strict";n.d(e,{z:function(){return r}});let r=(t,e,n,r)=>async(i,o)=>{let s={...r,...i},a=await s.endpointResolver(s,o),u=await e(o,a);return n(await t(u,{...s}))}},48146:function(t,e,n){"use strict";n.d(e,{V:function(){return r}});let r=(t,e)=>(n,r)=>{let i={},o=e=>t(e,r);for(let t=e.length-1;t>=0;t--)o=(0,e[t])(r)(o,i);return o(n)}},12221:function(t,e,n){"use strict";n.d(e,{j:function(){return s}});var r=n(37701);let i=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],o=t=>!!t&&i.includes(t),s=t=>async(e,n)=>{let r=n??await t(e)??void 0,i=r?.code||r?.name,s=e?.statusCode;return{retryable:h(n)||c(s,i)||o(i)||l(s,i)}},a=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],u=["TimeoutError","RequestTimeout","RequestTimeoutException"],c=(t,e)=>429===t||!!e&&a.includes(e),h=t=>[r.Z.NetworkError,"ERR_NETWORK"].includes(t?.name),l=(t,e)=>!!t&&[500,502,503,504].includes(t)||!!e&&u.includes(e)},37487:function(t,e,n){"use strict";n.d(e,{k:function(){return r}});let r=t=>{let e=(function(t=3e5){return e=>{let n=2**e*100+100*Math.random();return!(n>t)&&n}})(3e5)(t);return!1===e?3e5:e}},48880:function(t,e,n){"use strict";n.d(e,{e:function(){return o},f:function(){return i}});var r=n(20831);let i=async t=>{if(!t||t.statusCode<300)return;let e=await o(t),n=(t=>{let[e]=t.toString().split(/[,:]+/);return e.includes("#")?e.split("#")[1]:e})(t.headers["x-amzn-errortype"]??e.code??e.__type??"UnknownError");return Object.assign(Error(e.message??e.Message??"Unknown error"),{name:n,$metadata:(0,r.B)(t)})},o=async t=>{if(!t.body)throw Error("Missing response payload");return Object.assign(await t.body.json(),{$metadata:(0,r.B)(t)})}},20831:function(t,e,n){"use strict";n.d(e,{B:function(){return r}});let r=t=>{let{headers:e,statusCode:n}=t;return{...i(t)?t.$metadata:{},httpStatusCode:n,requestId:e["x-amzn-requestid"]??e["x-amzn-request-id"]??e["x-amz-request-id"],extendedRequestId:e["x-amz-id-2"],cfId:e["x-amz-cf-id"]}},i=t=>"object"==typeof t?.$metadata},79059:function(t,e,n){"use strict";n.d(e,{YG:function(){return r},z2:function(){return i}});let r="Logging",i="NoHubcallbackProvidedException"},75638:function(t,e,n){"use strict";n.d(e,{_:function(){return r}});class r extends Error{constructor({message:t,name:e,recoverySuggestion:n,underlyingError:i}){super(t),this.name=e,this.underlyingError=i,this.recoverySuggestion=n,this.constructor=r,Object.setPrototypeOf(this,r.prototype)}}},97808:function(t,e,n){"use strict";n.d(e,{$:function(){return i}});var r=n(75638);let i=(t,e=r._)=>(n,r,i)=>{let{message:o,recoverySuggestion:s}=t[r];if(!n)throw new e({name:r,message:i?`${o} ${i}`:o,recoverySuggestion:s})}},79722:function(t,e,n){"use strict";n.d(e,{d:function(){return c}});var r=n(85871);let i=t=>{for(let e of Reflect.ownKeys(t)){let n=t[e];(n&&"object"==typeof n||"function"==typeof n)&&i(n)}return Object.freeze(t)},o=Symbol("oauth-listener");var s=n(64686);n(29515),n(73663);class a{configure(t,e){this.authConfig=t,this.authOptions=e}async fetchAuthSession(t={}){let e,n;let r=await this.getTokens(t);return r?(n=r.accessToken?.payload?.sub,e=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:r,authenticated:!0,forceRefresh:t.forceRefresh})):e=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:t.forceRefresh}),{tokens:r,credentials:e?.credentials,identityId:e?.identityId,userSub:n}}async clearCredentials(){await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId()}async getTokens(t){return await this.authOptions?.tokenProvider?.getTokens(t)??void 0}}class u{constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new a}configure(t,e){let n=(0,s.h)(t);this.resourcesConfig=n,e&&(this.libraryOptions=e),this.resourcesConfig=i(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),r.Xb.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",r.SQ),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[o](t){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?t(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=t}notifyOAuthListener(){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth&&this.oAuthListener&&(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}}let c=new u},87433:function(t,e,n){"use strict";n.d(e,{YE:function(){return l},V0:function(){return h},FG:function(){return c},xp:function(){return f}});var r,i,o=n(70624),s=n(97808);(r=i||(i={})).AuthTokenConfigException="AuthTokenConfigException",r.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",r.AuthUserPoolException="AuthUserPoolException",r.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",r.OAuthNotConfigureException="OAuthNotConfigureException";let a={[i.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[i.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[i.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[i.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[i.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},u=(0,s.$)(a);function c(t){u(!!t&&!!t.userPoolId&&!!t.userPoolClientId,i.AuthUserPoolException)}function h(t){u(!!t?.loginWith?.oauth?.domain&&!!t?.loginWith?.oauth?.redirectSignOut&&!!t?.loginWith?.oauth?.redirectSignIn&&!!t?.loginWith?.oauth?.responseType,i.OAuthNotConfigureException)}function l(t){u(!!t?.identityPoolId,i.InvalidIdentityPoolIdException)}function f(t){let e=t.split(".");if(3!==e.length)throw Error("Invalid token");try{let n=e[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(o.$.convert(n).split("").map(t=>`%${`00${t.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),i=JSON.parse(r);return{toString:()=>t,payload:i}}catch(t){throw Error("Invalid token payload")}}},12876:function(t,e,n){"use strict";n.d(e,{Fm:function(){return y},$2:function(){return m}});var r=n(37701),i=n(75638);class o extends i._{constructor(){super({name:r.Z.PlatformNotSupported,message:"Function not supported on current platform"})}}class s{constructor(t){this.storage=t}async setItem(t,e){if(!this.storage)throw new o;this.storage.setItem(t,e)}async getItem(t){if(!this.storage)throw new o;return this.storage.getItem(t)}async removeItem(t){if(!this.storage)throw new o;this.storage.removeItem(t)}async clear(){if(!this.storage)throw new o;this.storage.clear()}}var a=n(53110);class u{constructor(){this.storage=new Map}get length(){return this.storage.size}key(t){return t>this.length-1?null:Array.from(this.storage.keys())[t]}setItem(t,e){this.storage.set(t,e)}getItem(t){return this.storage.get(t)??null}removeItem(t){this.storage.delete(t)}clear(){this.storage.clear()}}let c=new a.k("CoreStorageUtils"),h=()=>{try{if("undefined"!=typeof window&&window.localStorage)return window.localStorage}catch(t){c.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new u},l=()=>{try{if("undefined"!=typeof window&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw Error("sessionStorage is not defined")}catch(t){return c.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new u}};class f extends s{constructor(){super(h())}}class d extends s{constructor(){super(l())}}class g{constructor(t){this._storage=t}get storage(){if(!this._storage)throw new o;return this._storage}setItem(t,e){this.storage.setItem(t,e)}getItem(t){return this.storage.getItem(t)}removeItem(t){this.storage.removeItem(t)}clear(){this.storage.clear()}}class p extends g{constructor(){super(l())}}let y=new f;new d;let m=new p;new s(new u)},37701:function(t,e,n){"use strict";var r,i;n.d(e,{Z:function(){return r}}),(i=r||(r={})).NoEndpointId="NoEndpointId",i.PlatformNotSupported="PlatformNotSupported",i.Unknown="Unknown",i.NetworkError="NetworkError"},69514:function(t,e,n){"use strict";n.d(e,{a:function(){return r}});let r=URL},70624:function(t,e,n){"use strict";n.d(e,{$:function(){return i}});var r=n(72237);let i={convert(t,e){let n=t;return e?.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),(0,r.tl)()(n)}}},72237:function(t,e,n){"use strict";n.d(e,{Ds:function(){return o},MX:function(){return i},tl:function(){return s}});var r=n(75638);let i=()=>{if("object"==typeof window&&"object"==typeof window.crypto)return window.crypto;if("object"==typeof crypto)return crypto;throw new r._({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},o=()=>{if("undefined"!=typeof window&&"function"==typeof window.btoa)return window.btoa;if("function"==typeof btoa)return btoa;throw new r._({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},s=()=>{if("undefined"!=typeof window&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new r._({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})}},99262:function(t,e,n){"use strict";n.d(e,{j:function(){return r}});let r=()=>"undefined"!=typeof window&&void 0!==window.document},64686:function(t,e,n){"use strict";n.d(e,{h:function(){return d}});var r=n(53110),i=n(75638);let o=new r.k("parseAWSExports"),s={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},a=(t={})=>{if(!Object.prototype.hasOwnProperty.call(t,"aws_project_region"))throw new i._({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});let{aws_appsync_apiKey:e,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:r,aws_appsync_region:a,aws_bots_config:u,aws_cognito_identity_pool_id:l,aws_cognito_sign_up_verification_method:f,aws_cognito_mfa_configuration:d,aws_cognito_mfa_types:g,aws_cognito_password_protection_settings:p,aws_cognito_verification_mechanisms:y,aws_cognito_signup_attributes:m,aws_cognito_social_providers:w,aws_cognito_username_attributes:I,aws_mandatory_sign_in:v,aws_mobile_analytics_app_id:A,aws_mobile_analytics_app_region:S,aws_user_files_s3_bucket:E,aws_user_files_s3_bucket_region:C,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:b,aws_user_pools_id:P,aws_user_pools_web_client_id:_,geo:k,oauth:T,predictions:R,aws_cloud_logic_custom:O,Notifications:x,modelIntrospection:U}=t,L={};A&&(L.Analytics={Pinpoint:{appId:A,region:S}});let{InAppMessaging:N,Push:D}=x??{};if(N?.AWSPinpoint||D?.AWSPinpoint){if(N?.AWSPinpoint){let{appId:t,region:e}=N.AWSPinpoint;L.Notifications={InAppMessaging:{Pinpoint:{appId:t,region:e}}}}if(D?.AWSPinpoint){let{appId:t,region:e}=D.AWSPinpoint;L.Notifications={...L.Notifications,PushNotification:{Pinpoint:{appId:t,region:e}}}}}if(Array.isArray(u)&&(L.Interactions={LexV1:Object.fromEntries(u.map(t=>[t.name,t]))}),r){let t=s[n];t||o.debug(`Invalid authentication type ${n}. Falling back to IAM.`),L.API={GraphQL:{endpoint:r,apiKey:e,region:a,defaultAuthMode:t??"iam"}},U&&(L.API.GraphQL.modelIntrospection=U)}let M=d?{status:d&&d.toLowerCase(),totpEnabled:g?.includes("TOTP")??!1,smsEnabled:g?.includes("SMS")??!1}:void 0,K=p?{minLength:p.passwordPolicyMinLength,requireLowercase:p.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:p.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:p.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:p.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,V=Array.from(new Set([...y??[],...m??[]])).reduce((t,e)=>({...t,[e.toLowerCase()]:{required:!0}}),{}),B=I?.includes("EMAIL")??!1,G=I?.includes("PHONE_NUMBER")??!1;(l||P)&&(L.Auth={Cognito:{identityPoolId:l,allowGuestAccess:"enable"!==v,signUpVerificationMethod:f,userAttributes:V,userPoolClientId:_,userPoolId:P,mfa:M,passwordFormat:K,loginWith:{username:!(B||G),email:B,phone:G}}});let F=!!T&&Object.keys(T).length>0,$=!!w&&w.length>0;if(L.Auth&&F&&(L.Auth.Cognito.loginWith={...L.Auth.Cognito.loginWith,oauth:{...c(T),...$&&{providers:h(w)}}}),E&&(L.Storage={S3:{bucket:E,region:C,dangerouslyConnectToHttpEndpointForTesting:b}}),k){let{amazon_location_service:t}=k;L.Geo={LocationService:{maps:t.maps,geofenceCollections:t.geofenceCollections,searchIndices:t.search_indices,region:t.region}}}if(O&&(L.API={...L.API,REST:O.reduce((t,e)=>{let{name:n,endpoint:r,region:i,service:o}=e;return{...t,[n]:{endpoint:r,...o?{service:o}:void 0,...i?{region:i}:void 0}}},{})}),R){let{VoiceId:t}=R?.convert?.speechGenerator?.defaults??{};L.Predictions=t?{...R,convert:{...R.convert,speechGenerator:{...R.convert.speechGenerator,defaults:{voiceId:t}}}}:R}return L},u=t=>t?.split(",")??[],c=({domain:t,scope:e,redirectSignIn:n,redirectSignOut:r,responseType:i})=>({domain:t,scopes:e,redirectSignIn:u(n),redirectSignOut:u(r),responseType:i}),h=t=>t.map(t=>{let e=t.toLowerCase();return e.charAt(0).toUpperCase()+e.slice(1)}),l={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"},f={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"},d=t=>Object.keys(t).some(t=>t.startsWith("aws_"))?a(t):!function(t){let{version:e}=t;return!!e&&e.startsWith("1")}(t)?t:function(t){let e={};if(t.storage&&(e.Storage=function(t){if(!t)return;let{bucket_name:e,aws_region:n,buckets:r}=t;return{S3:{bucket:e,region:n,buckets:r&&function(t){let e={};return t.forEach(({name:t,bucket_name:n,aws_region:r,paths:i})=>{if(t in e)throw Error(`Duplicate friendly name found: ${t}. Name must be unique.`);let o=i?Object.entries(i).reduce((t,[e,n])=>(void 0!==n&&(t[e]=n),t),{}):void 0;e[t]={bucketName:n,region:r,paths:o}}),e}(r)}}}(t.storage)),t.auth&&(e.Auth=function(t){if(!t)return;let{user_pool_id:e,user_pool_client_id:n,identity_pool_id:r,password_policy:i,mfa_configuration:o,mfa_methods:s,unauthenticated_identities_enabled:a,oauth:u,username_attributes:c,standard_required_attributes:h,groups:l}=t,d={Cognito:{userPoolId:e,userPoolClientId:n,groups:l}};return r&&(d.Cognito={...d.Cognito,identityPoolId:r}),i&&(d.Cognito.passwordFormat={requireLowercase:i.require_lowercase,requireNumbers:i.require_numbers,requireUppercase:i.require_uppercase,requireSpecialCharacters:i.require_symbols,minLength:i.min_length??6}),o&&(d.Cognito.mfa={status:"OPTIONAL"===o?"optional":"REQUIRED"===o?"on":"off",smsEnabled:s?.includes("SMS"),totpEnabled:s?.includes("TOTP")}),a&&(d.Cognito.allowGuestAccess=a),u&&(d.Cognito.loginWith={oauth:{domain:u.domain,redirectSignIn:u.redirect_sign_in_uri,redirectSignOut:u.redirect_sign_out_uri,responseType:"token"===u.response_type?"token":"code",scopes:u.scopes,providers:function(t=[]){return t.reduce((t,e)=>(void 0!==f[e]&&t.push(f[e]),t),[])}(u.identity_providers)}}),c&&(d.Cognito.loginWith={...d.Cognito.loginWith,email:c.includes("email"),phone:c.includes("phone_number"),username:c.includes("username")}),h&&(d.Cognito.userAttributes=h.reduce((t,e)=>({...t,[e]:{required:!0}}),{})),d}(t.auth)),t.analytics&&(e.Analytics=function(t){if(!t?.amazon_pinpoint)return;let{amazon_pinpoint:e}=t;return{Pinpoint:{appId:e.app_id,region:e.aws_region}}}(t.analytics)),t.geo&&(e.Geo=function(t){if(!t)return;let{aws_region:e,geofence_collections:n,maps:r,search_indices:i}=t;return{LocationService:{region:e,searchIndices:i,geofenceCollections:n,maps:r}}}(t.geo)),t.data&&(e.API=function(t){if(!t)return;let{aws_region:e,default_authorization_type:n,url:r,api_key:i,model_introspection:o}=t;return{GraphQL:{endpoint:r,defaultAuthMode:l[n],region:e,apiKey:i,modelIntrospection:o}}}(t.data)),t.custom){let n=function(t){if(!t?.events)return;let{url:e,aws_region:n,api_key:r,default_authorization_type:i}=t.events;return{Events:{endpoint:e,defaultAuthMode:l[i],region:n,apiKey:r}}}(t.custom);n&&"Events"in n&&(e.API={...e.API,...n})}return t.notifications&&(e.Notifications=function(t){if(!t)return;let{aws_region:e,channels:n,amazon_pinpoint_app_id:r}=t,i=n.includes("IN_APP_MESSAGING"),o=n.includes("APNS")||n.includes("FCM");if(!(i||o))return;let s={};return i&&(s.InAppMessaging={Pinpoint:{appId:r,region:e}}),o&&(s.PushNotification={Pinpoint:{appId:r,region:e}}),s}(t.notifications)),e}(t)},79122:function(t,e,n){"use strict";n.d(e,{V:function(){return Q}});var r=n(79722);function i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var o=function t(e,n){function r(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=i({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in o)o[a]&&(s+="; "+a,!0!==o[a]&&(s+="="+o[a].split(";")[0]));return document.cookie=t+"="+e.write(r,t)+s}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(r[a]=e.read(s,a),t===a)break}catch(t){}}return t?r[t]:r}},remove:function(t,e){r(t,"",i({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,i({},this.attributes,e))},withConverter:function(e){return t(i({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class s{constructor(t={}){let{path:e,domain:n,expires:r,sameSite:i,secure:o}=t;if(this.domain=n,this.path=e||"/",this.expires=Object.prototype.hasOwnProperty.call(t,"expires")?r:365,this.secure=!Object.prototype.hasOwnProperty.call(t,"secure")||o,Object.prototype.hasOwnProperty.call(t,"sameSite")){if(!i||!["strict","lax","none"].includes(i))throw Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===i&&!this.secure)throw Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=i}}async setItem(t,e){o.set(t,e,this.getData())}async getItem(t){return o.get(t)??null}async removeItem(t){o.remove(t,this.getData())}async clear(){let t=Object.keys(o.get()).map(t=>this.removeItem(t));await Promise.all(t)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}var a=n(12876),u=n(64686),c=n(74567),h=n(53110),l=n(87433),f=n(90445);let d={identityId:"identityId"},g=new h.k("DefaultIdentityIdStore");class p{setAuthConfig(t){(0,l.YE)(t.Cognito),this.authConfig=t,this._authKeys=y("Cognito",t.Cognito.identityPoolId)}constructor(t){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=t}async loadIdentityId(){(0,l.YE)(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{let t=await this.keyValueStorage.getItem(this._authKeys.identityId);if(t)return this._hasGuestIdentityId=!0,{id:t,type:"guest"};return null}}catch(t){return g.log("Error getting stored IdentityId.",t),null}}async storeIdentityId(t){(0,l.YE)(this.authConfig?.Cognito),"guest"===t.type?(this.keyValueStorage.setItem(this._authKeys.identityId,t.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=t.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}let y=(t,e)=>(0,f._X)(d)(`com.amplify.${t}`,e);n(29515),n(73663);var m=n(20831),w=n(48880),I=n(91742),v=n(51849),A=n(96526),S=n(37487),E=n(12221),C=n(69514),b=n(48146),P=n(52954),_=n(63171);let k=(0,b.V)(A.y,[()=>t=>async function(e){return e.headers["cache-control"]="no-store",t(e)}]),T={service:"cognito-identity",endpointResolver:({region:t})=>({url:new C.a(`https://cognito-identity.${t}.${(0,v.b)(t)}`)}),retryDecider:(0,E.j)(w.f),computeDelay:S.k,userAgentValue:(0,P.Zm)(),cache:"no-store"};(0,_.QW)(()=>{T.userAgentValue=(0,P.Zm)()});let R=t=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${t}`}),O=({url:t},e,n)=>({headers:e,url:t,body:n,method:"POST"}),x=async t=>{if(t.statusCode>=300)throw await (0,w.f)(t);{let e=await (0,w.e)(t);return{IdentityId:e.IdentityId,Credentials:U(e.Credentials),$metadata:(0,m.B)(t)}}},U=({AccessKeyId:t,SecretKey:e,SessionToken:n,Expiration:r}={})=>({AccessKeyId:t,SecretKey:e,SessionToken:n,Expiration:r&&new Date(1e3*r)}),L=(0,I.z)(k,(t,e)=>O(e,R("GetCredentialsForIdentity"),JSON.stringify(t)),x,T);var N=n(57826),D=n(99388),M=n(34168);let K=async t=>{if(!(t.statusCode>=300))return{IdentityId:(await (0,w.e)(t)).IdentityId,$metadata:(0,m.B)(t)};throw await (0,w.f)(t)},V=(0,I.z)(k,(t,e)=>O(e,R("GetId"),JSON.stringify(t)),K,T);function B(t){let e=(0,l.xp)(t).payload.iss,n={};if(!e)throw new N.l({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return n[e.replace(/(^\w+:|^)\/\//,"")]=t,n}let G=new h.k("CognitoIdentityIdProvider");async function F({tokens:t,authConfig:e,identityIdStore:n}){n.setAuthConfig({Cognito:e});let r=await n.loadIdentityId();if(t){if(r&&"primary"===r.type)return r.id;{let n=t.idToken?B(t.idToken.toString()):{},i=await $(n,e);r&&r.id===i&&G.debug(`The guest identity ${r.id} has become the primary identity.`),r={id:i,type:"primary"}}}else{if(r&&"guest"===r.type)return r.id;r={id:await $({},e),type:"guest"}}return n.storeIdentityId(r),r.id}async function $(t,e){let n=e?.identityPoolId,r=(0,D.N)(n),i=(await V({region:r},{IdentityPoolId:n,Logins:t})).IdentityId;if(!i)throw new N.l({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return i}let j=new h.k("CognitoCredentialsProvider");class W{constructor(t){this._nextCredentialsRefresh=0,this._identityIdStore=t}async clearCredentialsAndIdentityId(){j.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){j.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(t){let e=t.authenticated,{tokens:n}=t,{authConfig:r}=t;try{(0,l.YE)(r?.Cognito)}catch{return}if(!e&&!r.Cognito.allowGuestAccess)return;let{forceRefresh:i}=t,o=this.hasTokenChanged(n),s=await F({tokens:n,authConfig:r.Cognito,identityIdStore:this._identityIdStore});return((i||o)&&this.clearCredentials(),e)?((0,M.Cg)(n),this.credsForOIDCTokens(r.Cognito,n,s)):this.getGuestCredentials(s,r.Cognito)}async getGuestCredentials(t,e){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return j.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let n=(0,D.N)(e.identityPoolId),r=await L({region:n},{IdentityId:t});if(r.Credentials&&r.Credentials.AccessKeyId&&r.Credentials.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let e={credentials:{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration},identityId:t},n=r.IdentityId;return n&&(e.identityId=n,this._identityIdStore.storeIdentityId({id:n,type:"guest"})),this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!1},e}throw new N.l({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(t,e,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return j.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let r=e.idToken?B(e.idToken.toString()):{},i=(0,D.N)(t.identityPoolId),o=await L({region:i},{IdentityId:n,Logins:r});if(o.Credentials&&o.Credentials.AccessKeyId&&o.Credentials.SecretKey){let t={credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration},identityId:n};this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!0,associatedIdToken:e.idToken?.toString()},this._nextCredentialsRefresh=new Date().getTime()+3e6;let r=o.IdentityId;return r&&(t.identityId=r,this._identityIdStore.storeIdentityId({id:r,type:"primary"})),t}throw new N.l({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(t){return!!t&&!!this._credentialsAndIdentityId?.associatedIdToken&&t.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}let Y=new W(new p(a.Fm)),Q={configure(t,e){let n=(0,u.h)(t);if(!n.Auth||e?.Auth){r.d.configure(n,e);return}if(!r.d.libraryOptions.Auth){c.D.setAuthConfig(n.Auth),c.D.setKeyValueStorage(e?.ssr?new s({sameSite:"lax"}):a.Fm),r.d.configure(n,{...e,Auth:{tokenProvider:c.D,credentialsProvider:Y}});return}if(e){void 0!==e.ssr&&c.D.setKeyValueStorage(e.ssr?new s({sameSite:"lax"}):a.Fm),r.d.configure(n,{Auth:r.d.libraryOptions.Auth,...e});return}r.d.configure(n)},getConfig:()=>r.d.getConfig()}}}]);